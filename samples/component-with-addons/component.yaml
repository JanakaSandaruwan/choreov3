apiVersion: openchoreo.dev/v1alpha1
kind: Component
metadata:
  name: test-service
  namespace: default
spec:
  owner:
    projectName: default

  # Component type reference (format: {workloadType}/{componentTypeDefinitionName})
  componentType: deployment/simple-deployment

  # Component parameters (static across environments)
  parameters:
    imagePullPolicy: Always
    replicas: 2
    resources:
      limits:
        cpu: 1000m
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 512Mi

  # Addons to apply to this component
  addons:
    - name: simple-pvc
      instanceId: data-volume
      config:
        volumeName: app-data
        mountPath: /var/data
        containerName: app
        # Environment overrides
        size: 20Gi
        storageClass: fast
